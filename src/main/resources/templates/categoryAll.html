<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />
<title>All categories</title>
<link rel="stylesheet" type="text/css" media="all"
	href="../static/css/style.css" th:href="@{/css/style.css}" />
</head>
<script
	src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
	document
			.addEventListener(
					"DOMContentLoaded",
					function(event) {
						$(".delete")
								.click(
										function(event) {
											return confirm("Warning!\nDeleting not empty category will remove all relations with child elements. Child elements will be related with empty element\nWish to proceed?");
										});
					});
</script>
<body>
	<div th:replace="fragments/header :: header"></div>
	<div>
		<a href="/category/add">Add new</a>
	</div>
	<table>
		<tr>
			<th>Name</th>
			<th colspan="3">Options</th>
		</tr>
		<tr th:each="category : ${categories}">
			<td th:text="${category.name}" />
			<td><a th:href="@{/category/edit/(id=${category.id})}">Edit</a></td>
			<td><a class="delete"
				th:href="@{/category/delete/(id=${category.id})}">Delete</a></td>
			<td><a th:href="@{subcategories/(id=${category.id})}">Subcategories</a></td>
		</tr>
	</table>
</body>

</html>